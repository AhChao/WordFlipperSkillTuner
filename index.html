<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q7NRZDM7PK"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-Q7NRZDM7PK');
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skill Tuner</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
</head>
<body class="font-monospace" onload="init()">
    <div class="container">
        <div class="row mt-3">
            <div class="col-12 text-center text">
                <h1>彈射世界 技能對軸Skill Tuner</h1>
                <span class="fs-6">※手機板或螢幕過小會跑版，手機板還在調整中</span>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12 col-md-7">
                <div class="row justify-content-center">
                    <span class="col-3 mx-2 border border-primary border-3 rounded">
                        主位1 技能槽
                        <br>
                        <input id="mainSkill1" class="w-100" type="number" placeholder="技能槽" onchange="calculateUnionSkillLength(1)">
                        <div class="row mt-2">
                            <div class="d-none d-md-block col-6"></div>
                            <div class="col-12 col-md-6 border border-primary border-3 rounded">
                                副位1 技能槽
                                <br>
                                <br>
                                <input id="subSkill1" class="w-100" type="number" placeholder="技能槽" onchange="calculateUnionSkillLength(1)">
                            </div>
                            <div class="col-12">
                                <span >Union1 條長</span>
                                <input id="unionSkill1" style="width: 35%; display: inline;" type="number" placeholder="長度">
                            </div>
                        </div>
                    </span>
                    <span class="col-3 mx-2 border border-secondary border-3 rounded">
                        主位2 技能槽
                        <br>
                        <input id="mainSkill2" class="w-100" type="number" placeholder="技能槽" onchange="calculateUnionSkillLength(2)">
                        <div class="row mt-2">
                            <div class="d-none d-md-block col-6"></div>
                            <div class="col-12 col-md-6 border border-primary border-3 rounded">
                                副位2 技能槽
                                <br>
                                <br>
                                <input id="subSkill2" class="w-100" type="number" placeholder="技能槽" onchange="calculateUnionSkillLength(2)">
                            </div>
                            <div class="col-12">
                                <span >Union2 條長</span>
                                <input id="unionSkill2" style="width: 35%; display: inline;" type="number" placeholder="長度">
                            </div>
                        </div>
                    </span>
                    <span class="col-3 mx-2 border border-warning border-3 rounded">
                        主位3 技能槽
                        <br>
                        <input id="mainSkill3" class="w-100" type="number" placeholder="技能槽" onchange="calculateUnionSkillLength(3)">
                        <div class="row mt-2">
                            <div class="d-none d-md-block col-6"></div>
                            <div class="col-12 col-md-6 border border-warning border-3 rounded">
                                副位3 技能槽
                                <br>
                                <br>
                                <input id="subSkill3" class="w-100" type="number" placeholder="技能槽" onchange="calculateUnionSkillLength(3)">
                            </div>
                            <div class="col-12">
                                <span >Union3 條長</span>
                                <input id="unionSkill3" style="width: 35%; display: inline;" type="number" placeholder="長度">
                            </div>
                        </div>
                    </span>
                </div>
                <div class="row text-center mt-3  justify-content-center">
                    <span class="col-3 mx-2 border border-primary border-3 rounded">
                        Union1 技能初始充能
                        <input id="unionInitCharge1" class="w-50" type="number" placeholder="充能比例">%
                    </span>
                    <span class="col-3 mx-2 border border-secondary border-3 rounded">
                        Union2 技能初始充能
                        <input id="unionInitCharge2" class="w-50" type="number" placeholder="充能比例">%
                    </span>
                    <span class="col-3 mx-2 border border-warning border-3 rounded">
                        Union3 技能初始充能
                        <input id="unionInitCharge3" class="w-50" type="number" placeholder="充能比例">%
                    </span>
                    <span class="col-12 mt-2 text-center fw-bold">
                        ※主位、副位、武器初始充能在此相加填入
                    </span>
                </div>
                <hr class="border border-primary border-2 bg-primary">
                <div class="row text-center mt-2 justify-content-center">
                    <span class="col-3 mx-2 border border-primary border-3 rounded">
                        Union1 技能發動充能
                        <div class="row">
                            <div class="col-12">
                                充能1號位
                                <input id="unionSkillCharge11" class="w-50" type="number" placeholder="充能比例"> %
                                <input id="unionSkillChargeTime11" class="w-50 mt-1" type="number" placeholder="充能次數">次
                            </div>
                            <div class="col-12">
                                充能2號位
                                <input id="unionSkillCharge12" class="w-50" type="number" placeholder="充能比例"> %
                                <input id="unionSkillChargeTime12" class="w-50 mt-1" type="number" placeholder="充能次數">次
                            </div>
                            <div class="col-12">
                                充能3號位
                                <input id="unionSkillCharge13" class="w-50" type="number" placeholder="充能比例"> %
                                <input id="unionSkillChargeTime13" class="w-50 mt-1" type="number" placeholder="充能次數">次
                            </div>
                        </div>
                    </span>
                    <span class="col-3 mx-2 border border-secondary border-3 rounded">
                        Union2 技能發動充能
                        <div class="row">
                            <div class="col-12">
                                充能1號位
                                <input id="unionSkillCharge21" class="w-50" type="number" placeholder="充能比例"> %
                                <input id="unionSkillChargeTime21" class="w-50 mt-1" type="number" placeholder="充能次數">次
                            </div>
                            <div class="col-12">
                                充能2號位
                                <input id="unionSkillCharge22" class="w-50" type="number" placeholder="充能比例"> %
                                <input id="unionSkillChargeTime22" class="w-50 mt-1" type="number" placeholder="充能次數">次
                            </div>
                            <div class="col-12">
                                充能3號位
                                <input id="unionSkillCharge23" class="w-50" type="number" placeholder="充能比例"> %
                                <input id="unionSkillChargeTime23" class="w-50 mt-1" type="number" placeholder="充能次數">次
                            </div>
                        </div>
                    </span>
                    <span class="col-3 mx-2 border border-warning border-3 rounded">
                        Union3 技能發動充能
                        <div class="row">
                            <div class="col-12">
                                充能1號位
                                <input id="unionSkillCharge31" class="w-50" type="number" placeholder="充能比例"> %
                                <input id="unionSkillChargeTime31" class="w-50 mt-1" type="number" placeholder="充能次數">次
                            </div>
                            <div class="col-12">
                                充能2號位
                                <input id="unionSkillCharge32" class="w-50" type="number" placeholder="充能比例"> %
                                <input id="unionSkillChargeTime32" class="w-50 mt-1" type="number" placeholder="充能次數">次
                            </div>
                            <div class="col-12">
                                充能3號位
                                <input id="unionSkillCharge33" class="w-50" type="number" placeholder="充能比例"> %
                                <input id="unionSkillChargeTime33" class="w-50 mt-1" type="number" placeholder="充能次數">次
                            </div>
                        </div>
                    </span>
                    <span class="col-12 mt-2 text-center fw-bold">
                        ※主位、副位、武器發動技能充能在此相加填入<br>
                        ※充能次數填0或默認會以無限次計，無發動次數限制可不填
                    </span>
                </div>
                <div class="row justify-content-center">
                    <div class="col-12 text-center">
                        <span class="fw-bold">技能同時發動順序</span>
                        <input type="radio" id="skillOrder1" value="single" name="skillOrderRadio">
                        <label for="single">單人(1 > 2 > 3)</label>
                    
                        <input type="radio" id="skillOrder2" value="multi" name="skillOrderRadio" checked>
                        <label for="multi">多人(2 > 3 > 1)</label>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-6">
                        <button type="button" class="btn btn-primary rounded-pill w-100" onclick="clickCalculate()">計算</button>
                    </div>
                    <div class="col-6">
                        <button type="button" class="btn btn-primary rounded-pill w-100 px-10" onclick="clickClear()">清除</button>
                    </div>
                </div>        
                <div class="row justify-content-center">
                    <div class="col-12 text-center fs-4">分享頁面設定<span class="fs-6"> <input type="checkbox" id="usingShortenLinkCheckbox">使用短網址</span>
                        <input id="sharedLinkField" type="text" class="w-100" placeholder="請按產生網址按鈕↓">
                    </div>
                    <div class="col-6 mt-2">
                        <button id="formLinkButton" type="button" class="btn btn-primary rounded-pill w-100" onclick="clickGenerateLink()">產生網址</button>
                    </div>
                    <div class="col-6 mt-2">
                        <button type="button" class="btn btn-primary rounded-pill w-100 px-10" onclick="clickCopyLink()">複製網址</button>
                    </div>
                </div>
            </div>
            <div class="col-5">
                <p class="fs-2 col-12">技能施放順序</p>
                <p id="skillUseOrderField" class="fs-4 col-12 border border-dark">
                    >
                </p>
                <p class="fs-2 col-12">技能時間軸</p>
                <svg id="skillPainter" class="w-100" style="height: 100%;">
                </svg>
            </div>
        </div>
    </div>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="./src/main.js"></script>
    <script src="./src/drawSVG.js"></script>
    <script src="./src/urlRelated.js"></script>
    <script src="./src/shortenUrlService.js"></script>
</body>
</html>